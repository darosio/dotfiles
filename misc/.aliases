alias e='emacsclient -c "$@"'
alias wifiscan='sudo iw dev wlan0 scan | grep SSID'
alias lg='git annex list --allrepos'
alias du.='du -ksh .[!.]* * | sort -h'
export EDITOR='emacsclient -c -a=""'
# for data management in annexes
copythistree() { 
    find . -type d -exec mkdir -p $1/{} \;
    }
# $1: folder in analyses
# $2: nimg name of the link
# $3: optional description e.g. adaptive_22
lndate() {
    dir=$1/`date -I`
    if [[ $3 ]]; then dir=${dir}_$3; fi
    mkdir $dir
    ln -s $dir $2
    }
# git annex
alias mrp='mr --config $HOME/.mrconfig-progs'
ga-init() {
    git init
    git annex init $1
    touch README
    git add .
    git commit -m 'inizialization'
}
alias ga='git-annex'
#for sha256 keys
ga-dup() {
  git annex find --include '*' --format='${escaped_key} :${file}\n' \
   | cut -d '-' -f 4- | sort | uniq --all-repeated=separate -w 63
}
ga-duprm() {
  ga-dup | awk -vRS= -vFS='\n' '{for (i = 2; i <= NF; i++) print $i}' \
   | cut -d ':' -f 2- 
}
ga-duprmgit() {
  ga-duprm | xargs -d '\n' git rm
}

alias tags="ag --nobreak --noheading --nofilename X-Key ~/Sync/Maildir/ | sed -e 's/X-Keywords: //; s/, /\n/g' | sort | uniq"

# pacman helper
alias paclist-time='expac --timefmt="%Y-%m-%d %T" "%l\t%n" | sort'
alias paclist-size_d='expac -HM "%011m\t%-20n\t%10d" $( comm -23 <(pacman -Qqen|sort) <(pacman -Qqg base base-devel|sort)  ) | sort -n'
paclist-size() {
    expac -s "%-30n %m" | sort -hk 2 | \
        awk '{printf "%s %.0f MiB\n", $1, $2/1024/1024}' | column -t 
}

alias t='tree'
alias xr2='xrandr --output HDMI1 --left-of HDMI3 --rotate left'
alias xrr=' xrandr --output eDP-1 --scale 1.24x1.24 --auto'
alias stow='stow -t ~/'

shopt -s autocd					# Auto "cd" when entering just a path
shopt -s checkwinsize			# Line wrap on window resize
alias diction='diction -s'
alias git-ever-existed='git log --pretty=format: --name-status | cut -f2- | sort -u'

# http://stackoverflow.com/questions/2720014/upgrading-all-packages-with-pip
alias pip_updall='pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs pip install -U'
alias pip_updalluser='pip freeze --user | grep -v '^\-e' | cut -d = -f 1  | xargs pip install -U --user'
alias pandoc='pandoc --pdf-engine=xelatex'
alias g='git st; git in; git out'

#ranger shellcd
rr() {
    export LESSOPEN='|/usr/bin/lesspipe.sh %s'
    if [ -z "$RANGER_LEVEL" ]
    then
        ranger
    else
        exit
    fi
}
function ranger-cd {                                                               
    tempfile="$(mktemp -t tmp.XXXXXX)"                                             
    /usr/bin/ranger --choosedir="$tempfile" "${@:-$(pwd)}"                         
    test -f "$tempfile" &&                                                         
    if [ "$(cat -- "$tempfile")" != "$(echo -n `pwd`)" ]; then                     
        cd -- "$(cat "$tempfile")"                                                 
    fi                                                                             
    rm -f -- "$tempfile"                                                           
}                                                                                  
# This binds Ctrl-O to ranger-cd:                                                  
bind '"\C-o":"ranger-cd\C-m"' 
bind '"\C-f":"rifle `fzf -e`\C-m"' 

# Bash's binds to <F1>
bind '"\e[24~": "urxvt &\n"'
export FZF_DEFAULT_OPTS="-e -m --sort 10000"
export FZF_DEFAULT_COMMAND="fd"
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="fd -t d"
source /usr/share/fzf/key-bindings.bash
source /usr/share/fzf/completion.bash
# fkill
bind '"\ek":"fkill\C-m"'

source /usr/share/bash-completion/completions/git
source /usr/share/bash-completion/completions/hg
export TERMINAL=urxvt
export HISTCONTROL=ignoredups
#export WINEPREFIX=/home/dan/.bin/.win32
export WINEARCH=win32
eval $(dircolors -b)
export R_LIBS_USER=~/.Renviron/
alias chromep='chromium --proxy-server="localhost:8118"'
alias lb='lsblk'
alias vi='vim'
alias viw='vim -c "match DiffDelete /\[-.\{-}-]/" -c "2match DiffAdd /{+.\{-}+}/"'
alias o='rifle $@'

#export CDPATH='.:/Data/0dan'
export IGNOREEOF=1

alias pyp='sudo pacmatic -Syu'
alias pya='pacaur -Syua'
alias pyu='sudo pacmatic -Syu; pya'

alias vga_ont='xrandr --output VGA1 --auto --above LVDS1'
alias vga='xrandr --output VGA1 --auto --same-as LVDS1'
alias vga_onr='xrandr --output VGA1 --auto --right-of LVDS1'
alias 1left='xrandr --output DP-1 --auto --left-of eDP-1'
alias vga_off='xrandr --output VGA1 --off'
alias 1off='xrandr --output DP-1 --off'
alias impress='impressive -t none --nologo'
alias omero='sshpass -p CEaMW2oSQY2 ssh darosio%omero@gate.fbk.eu'
#alias omero-data='sshfs  darosio%omero@gate.fbk.eu:/data /media/omero/'
alias omero-data0='sshfs  omero:/hardmnt/data0 /media/omero0/'
alias omero-data1='sshfs  omero:/hardmnt/data1 /media/omero1/'
alias swan-data='sshfs  swan:/hardmnt/swan1/data /media/swan/'
alias xev_arch="xev | grep -A2 --line-buffered '^KeyRelease' | sed -n '/keycode /s/^.*keycode \([0-9]*\).* (.*, \(.*\)).*$/\1 \2/p'"
alias bigcp='rsync -Phrltz --info=progress2'   #pg z -XH
# -a is for archive, which preserves ownership, permissions etc.
# -v is for verbose, so I can see what's happening (optional)
# -h is for human-readable, so the transfer rate and file sizes are easier to read (optional)
# -W is for copying whole files only, without delta-xfer algorithm which should reduce CPU load
# --no-compress as there's no lack of bandwidth between local devices
# --progress so I can see the progress of large files (optional)
## alias rm='trash-put'
alias svigolana='urxvt -bg "#111020" -e ssh -i ~/.ssh/dan@sterzing-2013-06-03 -p 23456 vigolana &'
alias vigolana-data='sshfs -p 23456 vigolana:/data /media/vigolana/ -o IdentityFile=$HOME/.ssh/dan@sterzing-2013-06-03'
alias mmarzola='sshfs -p 23456 mmedia@marzola:/home/MM /media/marzola-mm'
alias smarzola='urxvt -bg "#111020" -e ssh -i .ssh/dan@hunza-2013-06-03 -p 23456 -l mmedia 192.168.1.10 &'
alias smarzola='urxvt -bg "#111020" -e ssh -i ~/.ssh/dan@hunza-2013-06-03 -p 23456 -l mmedia marzola &'
alias stresero='urxvt -bg "#122021" -e ssh -i ~/.ssh/mmedia@-2013-06-03 -p 23456 -l mmedia tresero &'
alias mtresero='sshfs -p 23456 mmedia@tresero:/home/MM /mnt/tresero-mm'
alias pup='sudo pacmatic -Syu'
alias hide='export HISTSIZE=0'
alias l='ls -F --color=always'
alias ll='ls -Flh'
alias la='ls -Fah'
alias lla='ls -Flah'
alias dpa-x='xterm -bg lightgrey -fg midnightblue -fn 10x20 -e ssh dan@192.168.1.2 &'
alias kngur-x='nohup xterm -bg lightgreen -fn 10x20 -e ssh dan@10.0.0.2 &'
alias windowsXP='VBoxManage startvm "winXPvb"'
alias priv='iwconfig wlan0 essid ff key 1122334455 mode ad-hoc; ifconfig wlan0 10.0.0.1 up'
alias hour='sudo htpdate -s -D -u nobody:nobody www.google.com yahoo.com www.kernel.org'
alias yy='pacaur -Ss'
alias grep='grep --color'
alias sHs='python -m SimpleHTTPServer'

bind -x '"\C-l":ls -lh'
#echo -e "$RED Attenzione \e[0m"
export RED="\e[01;31m"

alias qfn='firefox -qfn'

pdf_myReduce() {
 gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dNOPAUSE -dQUIET -dBATCH -dPDFSETTINGS=/ebook -sOutputFile=$2 $1
}
# -dDownsampleColorImages=true -dColorImageResolution=150 
pdf_myReduce2() {
 gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.5 -dFILTERIMAGE -dNOPAUSE -dQUIET -dBATCH -dPDFSETTINGS=/screen -sOutputFile=$2 $1
}

#shopt -s cdspell #nocaseglob#automatic correction
#setterm -blength 0#stop beeping
export MAKEFLAGS='-j4'
alias tj='trans -j'
alias tji='trans -j :it'
