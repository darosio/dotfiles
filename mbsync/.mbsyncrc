# Save the synchronization state files in the relevant directory
SyncState *

# Automatically create missing mailboxes, both locally and on the server
Create Both  # default None
Remove Both
# Set off auto-expunge deleted messages on gmail IMAP server configuration:
# https://mail.google.com/mail/u/0/?tab=cm#settings/fwdandpop
Expunge Both
CopyArrivalDate yes

#
# Postecert
#
IMAPAccount pec
Host mail.postecert.it
User daniele.arosio@postecert.it
PassCmd "pass email/postecert"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore pec-remote
Account pec

MaildirStore pec-local
# The trailing "/" is important
Path ~/Maildir/pec/
Inbox ~/Maildir/pec/INBOX
Flatten .

Channel pec
Far :pec-remote:
Near :pec-local:
Patterns INBOX *
Sync Push New ReNew Delete Pull All

# #
# # Cnr
# #
# IMAPAccount cnr
# Host smtp.cnr.it
# User daniele.arosio
# PassCmd "pass email/cnr"
# # Use SSL
# SSLType IMAPS
# CertificateFile /etc/ssl/certs/ca-certificates.crt

# IMAPStore cnr-remote
# Account cnr

# MaildirStore cnr-local
# # The trailing "/" is important
# Path ~/Maildir/cnr/
# Inbox ~/Maildir/cnr/INBOX
# Flatten .


#
# Gmail for dpa
#
IMAPAccount gmail
Host imap.gmail.com
User danielepietroarosio@gmail.com
PassCmd "pass email/gmail-isync"
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
SubFolders Verbatim
# The trailing "/" is important
Path ~/Maildir/gmail/
Inbox ~/Maildir/gmail/Inbox
#Flatten .

Channel gmail
Far :gmail-remote:
Near :gmail-local:
Patterns INBOX "[Gmail]/*" !"[Gmail]/All Mail" "refs" "keepup" "templates"

Group gmail
Channel gmail

#############################################################################
#		INBOXES
#############################################################################
Group inboxes
Channel gmail-inbox
Channel pec:INBOX
