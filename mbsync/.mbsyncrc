# Save the synchronization state files in the relevant directory
SyncState *

# Automatically create missing mailboxes, both locally and on the server
Create Slave
Remove Both
Expunge Slave
CopyArrivalDate yes

#
# Aruba pec
#
IMAPAccount pec
Host imaps.pec.aruba.it
User daniele.arosio@pec.it
PassCmd "pass arubapec"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore pec-remote
Account pec

MaildirStore pec-local
# The trailing "/" is important
Path ~/Sync/Maildir/pec/
Inbox ~/Sync/Maildir/pec/INBOX
Flatten .

Channel pec
Master :pec-remote:
Slave :pec-local:
Patterns INBOX *

#
# Cnr
#
IMAPAccount cnr
Host smtp.cnr.it
User daniele.arosio
PassCmd "pass email/cnr"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore cnr-remote
Account cnr
#PathDelimiter /

MaildirStore cnr-local
# The trailing "/" is important
Path ~/Sync/Maildir/cnr/
Inbox ~/Sync/Maildir/cnr/INBOX
Flatten .

Channel cnr
Master :cnr-remote:
Slave :cnr-local:
Patterns INBOX *
#Patterns INBOX


#
# Gmail for dpa
#
IMAPAccount gmail
Host imap.gmail.com
User danielepietroarosio@gmail.com
PassCmd "pass email/gmail"
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
# The trailing "/" is important
Path ~/Sync/Maildir/gmail/
Inbox ~/Sync/Maildir/gmail/Inbox
#Flatten .

Channel gmail-inbox
Master :gmail-remote:INBOX
Slave :gmail-local:Inbox

Channel gmail-archive
Master ":gmail-remote:[Gmail]/All Mail"
Slave :gmail-local:archive
# Sync Push Flags
# Expunge None

Channel gmail-draft
Master ":gmail-remote:[Gmail]/Drafts"
Slave :gmail-local:draft

Channel gmail-sent
Master ":gmail-remote:[Gmail]/Sent Mail"
Slave :gmail-local:sent

Channel gmail-spam
Master :gmail-remote:[Gmail]/Spam
Slave :gmail-local:spam

Channel gmail-trash
Master :gmail-remote:[Gmail]/Trash
Slave :gmail-local:trash

# Labels
Channel gmail-rest
Master :gmail-remote:
Slave :gmail-local:
# Exclude everything under the internal [Gmail] folder, except the interesting folders
#Patterns * ![Gmail]* "[Gmail]/Sent Mail" "[Gmail]/Starred" "[Gmail]/All Mail"
Patterns * ![Gmail]* !Inbox !archive !draft !sent !spam !trash
# Patterns "*" "!Drafts" "!Sent" "!Trash" "![Gmail]*" "!INBOX" "!Lists*" "!Cron*"

Group gmail
Channel gmail-trash
Channel gmail-inbox
Channel gmail-draft
Channel gmail-sent
Channel gmail-spam
Channel gmail-rest
Channel gmail-archive

#############################################################################
#		INBOXES 
#############################################################################
Group INBOXES
Channel cnr:INBOX
Channel gmail-inbox
Channel pec:INBOX
