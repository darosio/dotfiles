# Save the synchronization state files in the relevant directory
SyncState *

# Automatically create missing mailboxes, both locally and on the server
Create Both  # default None
Remove Both
#https://mail.google.com/mail/u/0/?tab=cm#settings/fwdandpop
# IMAP server does not auto-expunge OFF
Expunge Both
CopyArrivalDate yes

#
# Postecert
#
IMAPAccount pec
Host mail.postecert.it
User daniele.arosio@postecert.it
PassCmd "pass email/postecert"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore pec-remote
Account pec

MaildirStore pec-local
# The trailing "/" is important
Path ~/Sync/Maildir/pec/
Inbox ~/Sync/Maildir/pec/INBOX
Flatten .

Channel pec
Far :pec-remote:
Near :pec-local:
Patterns INBOX *
Sync Push New ReNew Delete Pull All

#
# Cnr
#
IMAPAccount cnr
Host smtp.cnr.it
User daniele.arosio
PassCmd "pass email/cnr"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore cnr-remote
Account cnr

MaildirStore cnr-local
# The trailing "/" is important
Path ~/Sync/Maildir/cnr/
Inbox ~/Sync/Maildir/cnr/INBOX
Flatten .

Channel cnr-io
Far :cnr-remote:
Near :cnr-local:
Patterns INBOX * !INBOX/Drafts !INBOX/Sent !INBOX/Trash !Drafts !Sent !Trash  !INBOX/Templates !Templates !INBOX/keepup !keepup !INBOX/refs !refs

Channel cnr-drafts
Far ":cnr-remote:INBOX/Drafts"
Near :cnr-local:Drafts

Channel cnr-sent
Far ":cnr-remote:INBOX/Sent"
Near :cnr-local:Sent

Channel cnr-trash
Far ":cnr-remote:INBOX/Trash"
Near :cnr-local:Trash

Channel cnr-templates
Far ":cnr-remote:INBOX/Templates"
Near :cnr-local:Templates

Channel cnr-keepup
Far ":cnr-remote:INBOX/keepup"
Near :cnr-local:keepup

Channel cnr-refs
Far ":cnr-remote:INBOX/refs"
Near :cnr-local:refs

Group cnr
Channel cnr-io
Channel cnr-drafts
Channel cnr-sent
Channel cnr-trash
Channel cnr-templates
Channel cnr-keepup
Channel cnr-refs

#
# Gmail for dpa
#
IMAPAccount gmail
Host imap.gmail.com
User danielepietroarosio@gmail.com
#PassCmd "pass email/gmail"
PassCmd "pass email/gmail-isync"
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
SubFolders Verbatim
# The trailing "/" is important
Path ~/Sync/Maildir/gmail/
Inbox ~/Sync/Maildir/gmail/Inbox
#Flatten .

Channel gmail-inbox
Far :gmail-remote:INBOX
Near :gmail-local:Inbox

Channel gmail-archive
Far ":gmail-remote:[Gmail]/All Mail"
Near :gmail-local:archive
Expunge Both
#Sync Push Flags
# se archivio (or "D") da Sent resta copia in All Mail che devo ricancellare
# in local gmail/archive

Channel gmail-draft
Far ":gmail-remote:[Gmail]/Drafts"
Near :gmail-local:draft

Channel gmail-sent
Far ":gmail-remote:[Gmail]/Sent Mail"
Near :gmail-local:sent

Channel gmail-spam
Far :gmail-remote:[Gmail]/Spam
Near :gmail-local:spam

Channel gmail-trash
Far :gmail-remote:[Gmail]/Trash
Near :gmail-local:trash
#Expunge None
Expunge Both

# Labels
Channel gmail-rest
Far :gmail-remote:
Near :gmail-local:
# Exclude everything under the internal [Gmail] folder, except the interesting folders
#Patterns * ![Gmail]* "[Gmail]/Sent Mail" "[Gmail]/Starred" "[Gmail]/All Mail"
Patterns * ![Gmail]* !Inbox !archive !draft !sent !spam !trash
# Patterns "*" "!Drafts" "!Sent" "!Trash" "![Gmail]*" "!INBOX" "!Lists*" "!Cron*"

Group gmail
Channel gmail-trash
Channel gmail-inbox
Channel gmail-draft
Channel gmail-sent
Channel gmail-spam
Channel gmail-rest
Channel gmail-archive

#############################################################################
#		INBOXES 
#############################################################################
Group INBOXES
Channel cnr:INBOX
Channel gmail-inbox
Channel pec:INBOX
